## HEAD OF LIVE OPS: Haven Review

### Executive Summary (3 sentences max)
Haven has a surprisingly complete retention stack for a prototype — weekly events with game-modifying mechanics, a 7-day login calendar with streak multipliers, a 40-tier battle pass, daily quests, 50 achievements, and an offline earnings screen all ship together and interconnect. The biggest strength is the event system's game-modifier design (Crystal Rush doubles crystal gems, Speed Demon doubles energy regen) which changes HOW players play each week, not just WHAT they grind for. The biggest risk is content pipeline scalability — all 8 events are hardcoded, content requires code deploys, and there's no CMS or config-driven content system for a live ops team to operate independently.

### Dimension Scores
| Dimension | Score | Evidence |
|-----------|-------|----------|
| Event system depth & variety | 3.5/5 | 8 rotating weekly events (events.js:11-139) with genuinely varied mechanics: gem_multiplier (Crystal Rush), spawn_tier_boost (Timber Time), chain_reaction_boost (Flora Festival), surge_boost (Stone Surge), discovery_boost (Discovery Week), min_merge_override to 2 (Merge Mania!), crosschain_reward_multiplier (Chain Master), energy_regen_multiplier (Speed Demon). Each event has bronze/silver/gold challenge tiers with escalating targets and rewards including event-exclusive creatures on gold (events.js:17, 33, 49, etc.). The modifier system (events.js:288-315) exposes hasModifier() and getModifierValue() for other systems to query — architecturally clean. However, 8 events on weekly rotation = full cycle in 8 weeks. Industry benchmark is 73-89 events per month. After 2 months, players will have seen every event twice. |
| Content pipeline sustainability | 2/5 | ALL event definitions are hardcoded in eventPool array (events.js:11-139). Adding a new event requires modifying JavaScript source code, not loading from a config file or CMS. The same is true for daily quest pool (daily.js:17-30 — 12 hardcoded quests), achievement definitions (achievements.js:8-98 — 50 hardcoded), and battle pass tier rewards (pass.js:18-53 — hardcoded function). There is no external config, no JSON data files, no server-side content management. Every content change requires an engineer + code deploy. At industry pace (weekly content drops), this is unsustainable. A live ops team cannot operate independently of engineering. |
| Retention mechanic layers | 4.5/5 | Haven layers short/mid/long-term engagement beautifully: **Short-term (session):** surge momentum + combo counter + orders with exact-tier delivery tension (orders.js:133-149). **Daily:** 7-day login calendar with streak multiplier up to 2x (daily.js:6-14, 152-153), 3 daily quests regenerated each day (daily.js:239-256), event challenge progress tracking. **Weekly:** rotating event with bronze/silver/gold tiers (events.js:11-139). **Monthly:** 40-tier battle pass with 30-day season (pass.js:6), graduated XP curve (pass.js:9-14). **Long-term:** 184 creatures across 16 biomes (creatures.js:24-240), 50 achievements across 12 categories (achievements.js:8-98), 7-region island with 38 nodes. **Return hook:** offline earnings welcome screen (welcome.js:6-8, triggers after 5 min away, caps at 12h earnings). This is 6 distinct retention layers — more than most shipped merge games. |
| FOMO & urgency calibration | 3/5 | Good structural FOMO: weekly events have countdown timers (events.js:170-191) displayed on the banner and in the modal. Battle pass has a "days left" counter with urgent styling when ≤7 days (pass.js:192). Daily login breaks streak on missed day (daily.js:117-121). Event-exclusive creatures are gold-tier only and labeled "EVENT ONLY" (events.js:486). However — competitive analysis (competitive-analysis.md:232-235) identifies that Haven lacks **scarcity messaging**. No "EXCLUSIVE" badges on time-limited items, no "Only 2 days left!" push-style urgency on daily deals, no "Last chance!" messaging. The FOMO structures exist but aren't loud enough. Merge Dragons' Royal Pass and Travel Town's album countdowns are more aggressive with urgency language. The daily login calendar resets silently on missed days (daily.js:117-121) — no "You'll lose your 5-day streak!" warning. |
| Reactivation potential | 3/5 | Welcome back screen (welcome.js:391-418) triggers after 5 minutes away, shows worker gem earnings with animated countup (welcome.js:152-181), energy restoration, and passive creature bonuses. Auto-dismisses after 10 seconds (welcome.js:8). Worker income scales by creature rarity: common 3/hr, uncommon 8/hr, rare 15/hr, legendary 30/hr (welcome.js:11). The exit hook in game.js changes document.title to "Energy full in Xh Ym!" — but this only works for browser tabs, not mobile. No push notifications, no email reactivation, no "we miss you" mechanics. The daily login streak (daily.js:152-153) compounds at +0.25x per full week, maxing at 2x — a good lapsed-player recovery incentive but only works if the player opens the app. |

### Critical Findings

1. **[BLOCKER] All content is hardcoded — no config-driven content pipeline**
   - Evidence: eventPool is a JavaScript array (events.js:11-139), dailyQuestPool is hardcoded (daily.js:17-30), achievement definitions are inline (achievements.js:8-98), pass rewards are a hardcoded function (pass.js:18-53), calendar rewards are a const array (daily.js:6-14). Zero external JSON/YAML config files.
   - Impact: A live ops team cannot create, schedule, or modify content without engineering support. Every new event, every seasonal reward adjustment, every battle pass season reset requires a code deploy. At industry standard cadence (weekly content drops, monthly seasons, quarterly major events), this is a full-time engineering bottleneck. Competitors run 73-89 events/month — Haven runs 1 per week from a pool of 8.
   - Recommendation: Extract all content definitions into JSON config files: `events.json`, `daily-quests.json`, `achievements.json`, `pass-rewards.json`. Add a content loader that reads these on init. This is a foundational architecture change that unblocks all future live ops. HIGH priority, MEDIUM effort (1-2 days refactor).

2. **[RISK] Only 8 events in the pool — content exhaustion in 8 weeks**
   - Evidence: eventPool has exactly 8 entries (events.js:11-139). getEventForWeek uses `weekNum % eventPool.length` (events.js:167) — deterministic rotation. After 8 weeks, every event has appeared once. After 16 weeks, every event has appeared twice with identical challenges, targets, and rewards.
   - Impact: Event participation will decline sharply after the first full rotation as novelty fades. The exclusive creatures (8 total across events) will all be obtained by active players within 8 weeks. Industry best practice is to have 4-6 weeks of pre-built content MINIMUM, with new content added continuously.
   - Recommendation: Expand to 16+ events (doubling the pool extends freshness to 4 months). Add seasonal event variants that modify targets/rewards based on time of year. Add "event modifiers" that layer random secondary effects on repeat events to keep them feeling fresh. MEDIUM effort (1-2 days for 8 new events, ongoing content calendar).

3. **[OPPORTUNITY] The game-modifier event design is best-in-class for the genre**
   - Evidence: Events don't just track a number — they change gameplay rules. Crystal Rush gives 2x gems on crystal merges (events.js:18-19). Merge Mania reduces merge requirement to 2 items (events.js:98). Speed Demon doubles energy regen (events.js:130). These modifiers are queried by other systems via hasModifier/getModifierValue (events.js:304-315) — architecturally clean.
   - Impact: This is the design competitive analysis identifies as better than all three competitors (competitive-analysis.md:124): "Haven's events change how you play. MM's events are just more tasks." This modifier system is the foundation for truly engaging live ops. Protect it and expand it.
   - Recommendation: Add more modifier types: "Double Surge Duration", "Free 5th Merge", "Creature Discovery Guaranteed on Tier 5+", "Cross-Chain Recipes give 2 hybrid items". These can layer on existing events for repeat freshness. LOW effort per modifier.

4. **[RISK] No push notification infrastructure**
   - Evidence: No service worker registration for push notifications in the codebase. The manifest.json is referenced (index.html:10) but only for PWA installability, not notifications. The exit hook only modifies document.title (game.js exit hook). The welcome.js system fires on app open but cannot reach players who haven't opened the app.
   - Impact: Day 2-7 retention is heavily driven by reactivation nudges. Without push notifications, Haven relies entirely on player habit and the document.title trick (which only works on desktop). "Your workers earned 45 gems while you were away!" or "New event: Crystal Rush starts now!" are proven reactivation messages.
   - Recommendation: Add service worker with push notification support. Key triggers: energy full, worker earnings threshold, new event start, daily login streak at risk, battle pass tier unlocked. MEDIUM effort (2-3 hours for service worker + notification logic).

5. **[OPPORTUNITY] Achievement system has excellent back-fill design**
   - Evidence: syncProgressFromStats() (achievements.js:167-268) reads existing game state on init and populates achievement progress from stats like totalMerges, highestTier, chainRecord, creatures discovered, orders completed, etc. This means players who played BEFORE achievements were added instantly see progress bars filled — they don't start from zero.
   - Impact: This is thoughtful design that avoids the "I've been playing for weeks and have zero achievement progress" frustration that kills engagement with retroactive feature additions.
   - Recommendation: Ensure all future progression systems (e.g., card albums, item discovery tracker) follow this same back-fill pattern. This should be a standard practice across all new features.

6. **[RISK] Daily login streak reset is silent and punishing**
   - Evidence: When gap > 1 day, streak resets to 0 and currentDay resets to 1 (daily.js:117-121). No warning before streak breaks, no "streak save" item, no grace period. Calendar rewards are generous (day 7 jackpot: 250 gems + 3 stars + rare egg, daily.js:13) — losing progress toward this is painful.
   - Impact: A single missed day after a 6-day streak feels unfair. Players may disengage entirely rather than restart from day 1. Competitors offer streak-save mechanics (purchasable with gems) or 48-hour grace periods.
   - Recommendation: Add a "streak save" purchasable for 50 gems (maximum 1 per week). Or add a 24-hour grace period where the streak is "at risk" but not yet broken. LOW effort (simple conditional in checkNewDay).

### Trade-off Flags
- Extracting content to config files (my recommendation) adds file loading complexity that Engineering may resist for a prototype
- Expanding the event pool requires Game Design to sign off on new game modifiers to ensure they don't break balance
- Push notifications require user permission UX that Art/UX needs to design carefully — aggressive notification prompts kill casual games
- Streak save mechanic creates a gem sink that Monetization will love but Game Design may feel is "punishing players for having a life"

### Go/No-Go Signal
AMBER — Haven has an impressively deep retention stack for a prototype, with 6+ interconnected retention layers and a genuinely innovative event modifier system. The hardcoded content pipeline is the critical blocker: a live ops team cannot operate without config-driven content. Fix the content pipeline architecture, expand the event pool to 16+, and add push notifications before soft launch. The retention DESIGN is ready; the retention INFRASTRUCTURE is not.
